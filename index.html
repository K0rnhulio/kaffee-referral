<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Standard Meta Tags -->
    <title>Bali Invest lädt auf einen Kaffee ein</title>
    <meta name="description" content="Erlesener Kaffeegenuss auf Bali. Erleben Sie einzigartige Kaffee-Momente und die Aromenvielfalt der Insel.">
    <meta name="keywords" content="Bali real estate, Bali coffee, luxury property Bali, investment Bali, Indonesian coffee, Kintamani coffee">
    <meta name="author" content="Kaffee">

    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kaffee-bali.com/"> 
    <meta property="og:title" content="Bali Invest lädt dich auf einen Kaffee ein">
    <meta property="og:description" content="Erlesener Kaffeegenuss auf Bali. Erleben Sie einzigartige Kaffee-Momente und die Aromenvielfalt der Insel.">
    <meta property="og:image" content="https://bali-invest.b-cdn.net/BaliCoffeeMeta.jpg"> 

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://kaffee-bali.com/"> 
    <meta name="twitter:title" content="Bali Invest lädt dich auf einen Kaffee ein">
    <meta name="twitter:description" content="Erlesener Kaffeegenuss auf Bali. Erleben Sie einzigartige Kaffee-Momente und die Aromenvielfalt der Insel.">
    <meta name="twitter:image" content="https://bali-invest.b-cdn.net/BaliCoffeeMeta.jpg"> 

    <!-- Meta Pixel Code -->
    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', '666848015955468');
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=666848015955468&ev=PageView&noscript=1"
    /></noscript>
    <!-- End Meta Pixel Code -->

    <link rel="stylesheet" href="style.css">
</head>
<body>
    <section class="hero">
        <picture>
            <!-- Desktop Image (e.g., wider screens) -->
            <source media="(min-width: 768px)" srcset="https://bali-invest.b-cdn.net/desktop.jpg">
            <!-- Mobile Image (default/smaller screens) -->
            <img src="https://bali-invest.b-cdn.net/mobile.jpg" alt="Bali Szene mit Kaffee" class="hero-background-image">
        </picture>
        <div class="hero-content">
          <img src="https://bali-invest.b-cdn.net/CoffeePartnersLogos.png" alt="Firmenlogo" class="hero-logo">
          <h1>Hol dir den Geschmack Balis direkt nach Hause!</h1>
          <p>Sichere dir jetzt deine kostenlose Kaffeeprobe – original balinesischer Premium-Kaffee, der nicht nur schmeckt, sondern auch überzeugt.</p>
          
          <form id="coffee-form-id" action="https://services.leadconnectorhq.com/hooks/osPItgxGejSCe6sUpz4h/webhook-trigger/dd766ad3-fd26-441c-a82c-59c34e1bd7c6" method="post" class="coffee-form">
            <div class="form-group">
              <label for="name">Vor- und Nachname:</label>
              <input type="text" id="name" name="name" required placeholder="Max Mustermann">
            </div>
            <div class="form-group">
              <label for="email">E-Mail-Adresse:</label>
              <input type="email" id="email" name="email" required placeholder="max.mustermann@beispiel.de">
            </div>
            <!-- Hidden input for referral ID -->
            <input type="hidden" id="referral_id" name="referral_id">
            <div class="form-group">
              <label for="phone">Telefonnummer:</label>
              <input type="tel" id="phone" name="phone" placeholder="+49 123 456789">
            </div>
            <div class="form-group">
              <label for="address">Straße und Hausnummer:</label>
              <input type="text" id="address" name="address" required placeholder="Musterstraße 1">
            </div>
            <div class="form-group form-group-inline">
              <div>
                <label for="zip">PLZ:</label>
                <input type="text" id="zip" name="zip" required placeholder="12345" class="zip-input">
              </div>
              <div>
                <label for="city">Ort:</label>
                <input type="text" id="city" name="city" required placeholder="Musterstadt" class="city-input">
              </div>
            </div>
            <button type="submit" class="cta-button">Kostenlose Probe anfordern</button>
          </form>

          <!-- Success Message (initially hidden) -->
          <div id="success-message" class="success-message" style="display: none;">
            <p>Deine kostenlose Probe unseres balinesischen Premium-Kaffees ist so gut wie auf dem Weg zu dir. <br>
Wir haben deine Daten erhalten und bereiten die Sendung gerade vor.</p>
            <p>Bitte habe ein wenig Geduld, die Zustellung dauert in der Regel [z.B. 3-5] Werktage.</p>
            <p>Viel Vorfreude beim Warten,<br>Dein Bali Invest Team</p>
          </div>

          <!-- <a href="#" class="cta-button">Kostenlose Probe anfordern</a> --> <!-- Replaced by button -->
        </div>
    </section>

    <script>
      const form = document.getElementById('coffee-form-id');
      const successMessage = document.getElementById('success-message');

      form.addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent default browser submission

        // Set referral ID from URL to hidden input before sending
        const urlParams = new URLSearchParams(window.location.search);
        const referralId = urlParams.get('ref');
        if (referralId) {
          document.getElementById('referral_id').value = referralId;
        }

        const formData = new FormData(form);
        const webhookUrl = form.action;

        // Optional: Show a temporary loading indicator here

        fetch(webhookUrl, {
          method: 'POST',
          body: formData,
          // Headers might be needed depending on the webhook, but often not for simple form data
          // mode: 'no-cors' // Use this if you face CORS issues and don't need to read the response
        })
        .then(response => {
          // We assume success if the request could be sent, 
          // as 'no-cors' or cross-origin policies might prevent reading response status.
          // A more robust check would involve checking response.ok if not using 'no-cors'.
          form.style.display = 'none'; // Hide the form
          successMessage.style.display = 'block'; // Show the success message
          
          // Optional: Hide loading indicator
        })
        .catch(error => {
          console.error('Error submitting form:', error);
          // Optional: Show an error message to the user
          alert('Fehler beim Senden des Formulars. Bitte versuchen Sie es später erneut.');
          // Optional: Hide loading indicator
        });
      });
    </script>

</body>
</html>
